# -----------------------------
# RR (10 стратегий)
# Логика: TP >= 120% чаще всего, SL 15–35%
# -----------------------------
- name: RR_120_15
  type: RR
  params:
    tp_pct: 120
    sl_pct: 15
    max_minutes: 42000
    max_price_jump_pct: 30.0

- name: RR_150_15
  type: RR
  params:
    tp_pct: 150
    sl_pct: 15
    max_minutes: 42000
    max_price_jump_pct: 30.0

- name: RR_180_20
  type: RR
  params:
    tp_pct: 180
    sl_pct: 20
    max_minutes: 42000
    max_price_jump_pct: 30.0

- name: RR_220_20
  type: RR
  params:
    tp_pct: 220
    sl_pct: 20
    max_minutes: 42000
    max_price_jump_pct: 30.0

- name: RR_250_25
  type: RR
  params:
    tp_pct: 250
    sl_pct: 25
    max_minutes: 42000
    max_price_jump_pct: 30.0

- name: RR_300_25
  type: RR
  params:
    tp_pct: 300
    sl_pct: 25
    max_minutes: 42000
    max_price_jump_pct: 30.0

- name: RR_350_30
  type: RR
  params:
    tp_pct: 350
    sl_pct: 30
    max_minutes: 42000
    max_price_jump_pct: 30.0

- name: RR_400_30
  type: RR
  params:
    tp_pct: 400
    sl_pct: 30
    max_minutes: 42000
    max_price_jump_pct: 30.0

- name: RR_450_35
  type: RR
  params:
    tp_pct: 450
    sl_pct: 35
    max_minutes: 42000
    max_price_jump_pct: 30.0

- name: RR_500_35
  type: RR
  params:
    tp_pct: 500
    sl_pct: 35
    max_minutes: 42000
    max_price_jump_pct: 30.0


# -----------------------------
# RRD (10 стратегий)
# entry_wait_minutes = 180 (3 часа)
# Логика: вход на DD 10–40%, TP 150–500%, SL 20–35%
# -----------------------------
- name: RRD_DD10_TP150_SL20_W180
  type: RRD
  params:
    drawdown_entry_pct: 10
    tp_pct: 150
    sl_pct: 20
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0

- name: RRD_DD15_TP180_SL20_W180
  type: RRD
  params:
    drawdown_entry_pct: 15
    tp_pct: 180
    sl_pct: 20
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0

- name: RRD_DD20_TP220_SL25_W180
  type: RRD
  params:
    drawdown_entry_pct: 20
    tp_pct: 220
    sl_pct: 25
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0

- name: RRD_DD25_TP250_SL25_W180
  type: RRD
  params:
    drawdown_entry_pct: 25
    tp_pct: 250
    sl_pct: 25
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0

- name: RRD_DD30_TP300_SL25_W180
  type: RRD
  params:
    drawdown_entry_pct: 30
    tp_pct: 300
    sl_pct: 25
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0

- name: RRD_DD30_TP350_SL30_W180
  type: RRD
  params:
    drawdown_entry_pct: 30
    tp_pct: 350
    sl_pct: 30
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0

- name: RRD_DD35_TP400_SL30_W180
  type: RRD
  params:
    drawdown_entry_pct: 35
    tp_pct: 400
    sl_pct: 30
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0

- name: RRD_DD40_TP450_SL30_W180
  type: RRD
  params:
    drawdown_entry_pct: 40
    tp_pct: 450
    sl_pct: 30
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0

- name: RRD_DD40_TP500_SL35_W180
  type: RRD
  params:
    drawdown_entry_pct: 40
    tp_pct: 500
    sl_pct: 35
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0

- name: RRD_DD50_TP650_SL35_W180
  type: RRD
  params:
    drawdown_entry_pct: 50
    tp_pct: 650
    sl_pct: 35
    max_minutes: 42000
    entry_wait_minutes: 180
    max_price_jump_pct: 30.0


# -----------------------------
# Runner (baseline пример)
# Логика: лестница тейк-профитов с несколькими уровнями
# Baseline параметры (рекомендованные стартовые):
#   - levels: [(2, 0.4), (5, 0.4), (10, 0.2)] - 40% на 2x, 40% на 5x, 20% на 10x
#   - time_stop: 14 дней (20160 минут) или 21 день (30240 минут)
#   - use_high_for_targets: true - ориентироваться на HIGH как триггер
#   - exit остатка по close последней свечи окна (зафиксировано в реализации)
# -----------------------------
- name: Runner_Ladder_2x_5x_10x
  type: RUNNER
  params:
    take_profit_levels:
      - { xn: 2.0, fraction: 0.4 }   # 40% позиции закрывается на 2x
      - { xn: 5.0, fraction: 0.4 }   # 40% позиции закрывается на 5x
      - { xn: 10.0, fraction: 0.2 }  # 20% позиции закрывается на 10x
    time_stop_minutes: 20160  # 14 дней (20160 минут = 14 * 24 * 60)
    use_high_for_targets: true  # Ориентироваться на HIGH как триггер для TP
    exit_on_first_tp: false  # Не закрывать всю позицию на первом TP
    allow_partial_fills: true  # Разрешить частичные фиксации
